<!-- Estilos existentes para otros elementos -->
<style>
hr {
    border: none;
    border-top: 1px solid #ccc;
    color: #fff;
    height: 5px;
    width: 100%;
}
#goTopBtn {
    position: fixed;
    bottom: 80px;
    right: 8px;
    width: 50px;
    height: 50px;
    background-color: transparent;
    border: 2px solid magenta;
    border-radius: 50%;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}
#goTopBtn:hover {
    border: 2px solid cyan;
}
</style>

<footer>
    <div class="footer-container">
        <div class="footer-column">
            <a href="https://grouvex.github.io"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/Grouvex1.png" alt="Logo" loading="lazy"></a>
        </div>
        <div class="footer-column">
            <div>
                  <div class="footer-imagenes">
   <nav>
      <a href="https://instagram.com/grouvexstudios" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/Instagram.png" alt=""  title="Instagram of Grouvex Studios"loading="lazy"></a>
      <a href="https://tiktok.com/@GrouvexStudios" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/TikTok.png" title="TikTok of Grouvex Studios" loading="lazy"></a>
      <a href="https://discord.gg/XnxcuZHrh3" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/Discord.png" alt=""  title="Grouvex Studios Comunity Discord"loading="lazy"></a>
      <a href="https://open.spotify.com/intl-es/artist/0Sz3myYKWtxR1seCT5e7Rx?si=O624cS5UT261AHIjCJDCJw" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/Spotify.png" alt="" title="Spotify of Grouvex Studios" loading="lazy"></a>
      <a href="https://twitter.com/@grouvex" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/X.png" alt="" loading="lazy"></a>
      <a href="https://musescore.com/user/70786552" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/MuseScore.png" alt="" loading="lazy"></a>
      <a href="https://youtube.com/@GrouvexStudios" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/YouTube.png" alt="" title="YouTube of Grouvex Studios" loading="lazy"></a>
      <a href="https://music.youtube.com/channel/UCCjEGDcTAyAgcw0L-HGeeZQ" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/YouTubeMusic.png" alt="" title="YouTube Music of Grouvex Studios" loading="lazy"></a>
      <a href="https://www.amazon.es/music/player/artists/B0CK9MNQ61/grouvex" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/AmazonMusic.png" alt="" title="Amazon Music of Grouvex Studios" loading="lazy"></a>
      <a href="https://www.deezer.com/en/artist/222357525" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/Deezer.png" alt="" title="Deezer of Grouvex Studios" loading="lazy"></a>
      <a href="https://play.anghami.com/artist/19328687" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/Anghami.png" alt="" title="Anghami of Grouvex Studios" loading="lazy"></a>
      <a href="https://music.apple.com/mx/artist/grouvex/1713912150" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/AppleMusic.png" alt="" title="Apple Music of Grouvex Studios" loading="lazy"></a>
      <a href="https://chat.whatsapp.com/KI636pP5mWp94B7RDYqIsw" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/whatsapp.png" alt="" title="Grouvex Studios Official Community" loading="lazy"></a>
      <a href="https://github.com/Grouvex/grouvex.github.io/discussions" target="_blank"><img src="https://raw.githubusercontent.com/Grouvex/grouvex.github.io/refs/heads/main/img/forum.png" alt="" title="Forum of Grouvex Studios" loading="lazy"></a>
    </nav>
  </div>
                </div>
            <div class="footer-row">
                <div>
                    <h4>Seguridad y Reglamentso de Grouvex Studios</h4>
                    <p><a href="https://grouvex.github.io/ddoo" style="color:white">Documentos Oficiales de Grouvex Studios y Organismos Secudarios</a></p>
                    <p><a href="https://grouvex.github.io/tos_pp" style="color:white">T√©rminos de Servicios y Pol√≠ticas de Privacidad de Grouvex Studios</a></p> 
                    <p><a href="https://grouvex.github.io/tos_pp_gsrecords" style="color:white" class="disabled-link">T√©rminos de Servicios y Pol√≠ticas de Privacidad de GSRecords</a></p>
                    <p><a href="https://grouvex.github.io/tos_pp_gsdesigns" style="color:white" class="disabled-link">T√©rminos de Servicios y Pol√≠ticas de Privacidad de GSDesigns</a></p>
                    <p><a href="https://grouvex.github.io/tos_pp_gsgames" style="color:white" class="disabled-link">T√©rminos de Servicios y Pol√≠ticas de Privacidad de GSGames</a></p>
                    <p><a href="https://grouvex.github.io/contacto" style="color:white">Contacto</a></p>
                </div>
                <div>
                    <h4>P√°ginas de Grouvex Studios</h4>
                    <p><a href="https://grouvex.github.io/faqs" style="color:white">Preguntas Frecuentes (FAQS)</a></p>
                    <p><a href="https://grouvex.github.io/planeta" style="color:gold">Sistema Planetario 3D</a></p>
                    <p><a href="https://grouvex.github.io/buscar" style="color:gold">Buscador Oficial de Grouvex Studios</a></p>
                    <p><a href="https://grouvex.github.io/sitemap" style="color:gold">Mapa Oficial de Grouvex Studios</a></p>
                    <p><a href="https://script.google.com/macros/s/AKfycbyx2ZKEOGThYPBLjDeavIn1EYF9tmcYieT-6mfvAZAeiR0-nO__NKiJTejXxjJGJCBaBA/exec" syle="padding: 10px 15px; background: linear-gradient(to right, #3b82f6, #8b5cf6); color: white; border-radius: 6px; cursor: pointer; font-weight: 600; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);">Panel de Grouvex Studios</a></p>
                </div>
                <div>
                    <h4>GSRecords</h4>
                    <p><a href="https://grouvex.github.io/gsrecords" style="color:white">GSRecords</a></p>
                    <p><a href="https://grouvex.github.io/grouvex-studios-records" style="color:white"><span class="insignia  artista"></span>GSRecords For Artists</a></p>
                    <p><a href="https://www.routenote.com/" style="color:white" target="_blank">Distribuidora RouteNote</a></p>
                </div>
                <div>
                    <h4>GSAnimation</h4>
                    <p><a href="https://grouvex.github.io/gsanimation" class="disabled-link">GSAnimation</a></p>
                    <p><a href="https://grouvex.github.io/grouvex-studios-animation" class="disabled-link"><span class="insignia creador"></span>GSAnimation For Animator</a></p>
                </div>
                <div>
                    <h4>GSGames</h4>
                    <p><a href="https://grouvex.github.io/gsgames" class="disabled-link">GSGames</a></p>
                    <p><a href="https://grouvex.github.io/grouvex-studios-games" class="disabled-link"><span class="insignia gamers"></span>GSGames For Gamers</a></p>
                </div>
                <div>
                    <h4>GSDesign</h4>
                    <p><a href="https://grouvex.github.io/gsdesign" class="disabled-link">GSDesign</a></p>
                    <p><a href="https://grouvex.github.io/grouvex-studios-design" class="disabled-link"><span class="insignia dise√±ador"></span>GSDesign For Designers</a></p>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div class="footer-bottom">
        <p>¬©2021-2026, Grouvex Studios</p>
        <p><a href="https://github.com/Grouvex/grouvex.github.io/releases/tag/v7.0.0" style="color:white" target="_blank">¬©2025-v7.0.0 (<span id="VersionDATE"></span>)</a></p>
        <p><n><a href="https://github.com/Grouvex/grouvex.github.io/tree/v8.0.0" style="color:white" target="_blank">¬©2026-v8.0.0 (<span id="NVersionDATE"></span>)</a></n><span class="status upcoming">Upcoming</span></p>
    </div>
</footer>
<script>
    const uTVersion = 1745658000; actualizarFechas(uTVersion, "VersionDATE");
    const uTNVersion = 1773702000; actualizarFechas(uTNVersion, "NVersionDATE");
</script> 
<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/6525b3a66fcfe87d54b88bc4/1hcdkbgr3';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
<!-- Scripts y contenido adicional -->
<script>
    function scrollToTop() {
        window.scrollTo({top: 0,behavior: 'smooth'});
    }
</script>
<script>
    // precargarYRedirigir.js
document.addEventListener("DOMContentLoaded", function () {
    console.log("DOM completamente cargado. Precargando la siguiente p√°gina...");

    // Escuchar clics en todos los enlaces
    document.addEventListener("click", function (event) {
        const target = event.target;

        // Verificar si el clic fue en un enlace (<a>)
        if (target.tagName === "A") {
            const url = target.href; // Obtener la URL del enlace

            // Verificar si el enlace pertenece al dominio grouvex.com
            if (new URL(url).hostname === "grouvex.com") {
                event.preventDefault(); // Evitar la redirecci√≥n inmediata

                console.log(`Precargando contenido de: ${url}`);

                // Precargar el contenido de la siguiente p√°gina
                fetch(url)
                    .then((response) => {
                        if (!response.ok) {
                            throw new Error(`Error al cargar la p√°gina: ${response.statusText}`);
                        }
                        return response.text(); // Obtener el contenido HTML de la p√°gina
                    })
                    .then((html) => {
                        console.log(`Contenido de ${url} precargado correctamente.`);
                        // Aqu√≠ podr√≠as hacer algo con el HTML precargado, como almacenarlo en una variable
                        // o inyectarlo en un elemento oculto en la p√°gina actual.

                        // Redirigir al usuario a la p√°gina correspondiente
                        console.log(`Redirigiendo a: ${url}`);
                        window.location.href = url;
                    })
                    .catch((error) => {
                        console.error("Error al precargar la p√°gina:", error);
                        alert("Hubo un error al cargar la p√°gina. Int√©ntalo de nuevo.");
                    });
            } else {
                console.log(`El enlace no pertenece al dominio grouvex.com. Redirecci√≥n normal.`);
                // Si el enlace no es del dominio, permitir la redirecci√≥n normal
            }
        }
    });
});
</script>
<button id="goTopBtn" onclick="scrollToTop()">‚Üë Top</button>
<script src="https://www.google.com/recaptcha/api.js"></script>
 <script>
   function onSubmit(token) {
     document.getElementById("demo-form").submit();
   }
 </script>

<script>
// üîÑ SISTEMA DE ACTUALIZACIONES PARA GITHUB PAGES
// Copia este c√≥digo completo en un archivo update-system.js

(function() {
  console.log("üöÄ SISTEMA DE ACTUALIZACIONES WEB CARGADO");
  
  // Esperar a que el DOM est√© completamente cargado
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initUpdateSystem);
  } else {
    // DOM ya est√° cargado
    initUpdateSystem();
  }

  function initUpdateSystem() {
    console.log("üéØ Inicializando sistema de actualizaciones...");
    
    const UPDATE_SYSTEM = {
      expandedVersion: null,
      isUpdating: false,
      updateProgress: 0,
      estimatedTime: 0,
      isUpdateComplete: false,
      
      VERSION_HISTORY: {
        // Obtener versi√≥n actual del localStorage o usar 0.1.0 por defecto
        currentVersion: localStorage.getItem('appVersion') || "0.1.0",
        latestVersion: "0.1.2",
        versions: {
          "0.1.2": {
            date: "2026-02-21",
            updateRequired: true,
            mandatory: true,
            changes: [
              "Revisi√≥n de los sistemas del Panel",
              "Optimizaci√≥n de rendimiento",
              "Nuevas animaciones en la interfaz"
            ],
            resources: {
              images: [
                "https://images.unsplash.com/photo-1555949963-aa79dcee981c?w=800&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1551650975-87deedd944c3?w=800&auto=format&fit=crop"
              ],
              videos: ["https://www.youtube.com/embed/dQw4w9WgXcQ"],
              links: [
                {
                  url: "https://grouvex.com/changelog",
                  title: "Registro de cambios completo",
                  description: "Documentaci√≥n detallada de todos los cambios"
                }
              ]
            }
          },
          "0.1.1": {
            date: "2026-02-07",
            updateRequired: true,
            mandatory: true,
            changes: [
              "Mejora de Registro en el Panel", 
              "Mejora del sistema de Nuevo Perfil", 
              "Nueva funci√≥n de subida de lanzamiento", 
              "Nueva y mejora de Comunidad", 
              "Mejora del sistema de Notificaciones", 
              "Mejora de funcionalidades existentes"
            ],
            resources: {
              images: ["https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&auto=format&fit=crop"],
              videos: ["https://www.youtube.com/embed/9bZkp7q19f0"],
              links: [
                {
                  url: "https://grouvex.com/tutorial",
                  title: "Tutorial de actualizaci√≥n",
                  description: "Video gu√≠a paso a paso"
                }
              ]
            }
          },
          "0.1.0": {
            date: "2026-02-10",
            updateRequired: true,
            mandatory: true,
            changes: [
              "Mejora en el sistema de actualizaciones", 
              "Mejora de los estilos de la p√°gina web", 
              "Actualizaci√≥n de los formularios",
              "Mejora del sistema de Notificaciones"
            ],
            resources: {
              images: [],
              videos: [],
              links: [
                {
                  url: "https://grouvex.com/release-notes",
                  title: "Notas de la versi√≥n 0.1.0",
                  description: "Informaci√≥n t√©cnica detallada"
                }
              ]
            }
          },
          "0.0.6": {
            date: "2025-11-01",
            updateRequired: true,
            mandatory: true,
            changes: [
              "Plantilla para Notificaciones", 
              "Mejora en los permisos de modificaci√≥n", 
              "Actualizaci√≥n de Documentos Oficiales", 
              "Introducci√≥n de Grouvex", 
              "Mejora del sistema de Notificaciones", 
              "Implementaci√≥n de GCO"
            ],
            resources: {
              images: [],
              videos: [],
              links: [
                {
                  url: "https://grouvex.com/release-notes",
                  title: "Notas de la versi√≥n 0.0.6",
                  description: "Informaci√≥n t√©cnica detallada"
                }
              ]
            }
          },
          "0.0.4": {
            date: "2025-09-29",
            updateRequired: true,
            mandatory: false,
            changes: [
              "Mejoras en rendimiento", 
              "Nuevas funciones", 
              "Interfaz mejorada", 
              "Logo y Nombres en la p√°gina web", 
              "Noticias", 
              "Correcci√≥n de Centro de Ayudas", 
              "Correcci√≥n de Nomenclaturas", 
              "Portal de Staff", 
              "Creaci√≥n de Update y Mejoras ya implementadas",
              "Implementaci√≥n de M√∫sica - Grouvex Player"
            ],
            resources: {
              images: [],
              videos: [],
              links: []
            }
          },
          "0.0.3": {
            date: "2025-09-28",
            updateRequired: true,
            mandatory: true,
            changes: [
              "Correcci√≥n de errores cr√≠ticos", 
              "Optimizaci√≥n de procesos"
            ],
            resources: {
              images: [],
              videos: [],
              links: []
            }
          },
          "0.0.1": {
            date: "2025-09-27",
            updateRequired: true,
            mandatory: true,
            changes: [
              "Bienvenidx a DataBase", 
              "Primera versi√≥n estable", 
              "Funcionalidades b√°sicas", 
              "Sistema de autenticaci√≥n", 
              "Mejora en seguridad"
            ],
            resources: {
              images: [],
              videos: [],
              links: []
            }
          }
        }
      },

      // üíæ GUARDAR VERSI√ìN EN LOCALSTORAGE
      saveUpdatedVersion: function(newVersion) {
        return new Promise((resolve) => {
          try {
            console.log("üíæ Guardando versi√≥n en localStorage:", newVersion);
            localStorage.setItem('appVersion', newVersion);
            this.VERSION_HISTORY.currentVersion = newVersion;
            console.log("‚úÖ Versi√≥n guardada exitosamente en localStorage");
            resolve({ success: true, version: newVersion });
          } catch (error) {
            console.error("‚ùå Error al guardar versi√≥n en localStorage:", error);
            resolve({ success: false, error: error.message });
          }
        });
      },

      // üîç OBTENER VERSIONES PENDIENTES
      getPendingVersions: function() {
        const userVersion = this.VERSION_HISTORY.currentVersion;
        const latestVersion = this.VERSION_HISTORY.latestVersion;
        const allVersions = Object.keys(this.VERSION_HISTORY.versions);
        
        // Ordenar versiones correctamente
        const sortedVersions = allVersions.sort((a, b) => {
          const aParts = a.split('.').map(Number);
          const bParts = b.split('.').map(Number);
          
          for (let i = 0; i < Math.max(aParts.length, bParts.length); i++) {
            const aPart = aParts[i] || 0;
            const bPart = bParts[i] || 0;
            if (aPart !== bPart) return aPart - bPart;
          }
          return 0;
        });
        
        const userVersionIndex = sortedVersions.indexOf(userVersion);
        const latestVersionIndex = sortedVersions.indexOf(latestVersion);
        
        if (userVersionIndex === -1) {
          return sortedVersions.filter(version => 
            sortedVersions.indexOf(version) <= latestVersionIndex
          );
        }
        
        if (latestVersionIndex === -1) {
          return sortedVersions.slice(userVersionIndex + 1);
        }
        
        return sortedVersions.slice(userVersionIndex + 1, latestVersionIndex + 1);
      },

      // üîÆ OBTENER VERSIONES FUTURAS
      getFutureVersions: function() {
        const latestVersion = this.VERSION_HISTORY.latestVersion;
        const allVersions = Object.keys(this.VERSION_HISTORY.versions);
        
        const sortedVersions = allVersions.sort((a, b) => {
          const aParts = a.split('.').map(Number);
          const bParts = b.split('.').map(Number);
          
          for (let i = 0; i < Math.max(aParts.length, bParts.length); i++) {
            const aPart = aParts[i] || 0;
            const bPart = bParts[i] || 0;
            if (aPart !== bPart) return aPart - bPart;
          }
          return 0;
        });
        
        const latestVersionIndex = sortedVersions.indexOf(latestVersion);
        
        if (latestVersionIndex === -1) {
          return [];
        }
        
        return sortedVersions.slice(latestVersionIndex + 1);
      },

      // ‚è™ OBTENER VERSIONES ANTERIORES
      getPreviousVersions: function() {
        const userVersion = this.VERSION_HISTORY.currentVersion;
        const allVersions = Object.keys(this.VERSION_HISTORY.versions);
        
        const sortedVersions = allVersions.sort((a, b) => {
          const aParts = a.split('.').map(Number);
          const bParts = b.split('.').map(Number);
          
          for (let i = 0; i < Math.max(aParts.length, bParts.length); i++) {
            const aPart = aParts[i] || 0;
            const bPart = bParts[i] || 0;
            if (aPart !== bPart) return aPart - bPart;
          }
          return 0;
        });
        
        const userVersionIndex = sortedVersions.indexOf(userVersion);
        
        if (userVersionIndex === -1) {
          return [];
        }
        
        return sortedVersions.slice(0, userVersionIndex);
      },

      // üé® OSCURECER COLORES
      darkenColor: function(color, percent) {
        const num = parseInt(color.replace("#", ""), 16);
        const amt = Math.round(2.55 * percent);
        const R = (num >> 16) - amt;
        const G = (num >> 8 & 0x00FF) - amt;
        const B = (num & 0x0000FF) - amt;
        return "#" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
          (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
          (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
      },

      // üé® HEX A RGB
      hexToRgb: function(hex) {
        const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? 
          `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` :
          "59, 130, 246";
      },

      // üñ•Ô∏è MOSTRAR PANTALLA COMPLETA DE ACTUALIZACI√ìN
      showFullScreenUpdate: function() {
        const pendingVersions = this.getPendingVersions();
        if (pendingVersions.length === 0) return;
        
        // Bloquear scroll
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';
        
        // Calcular tiempo basado en cambios
        const baseTime = 10;
        const perChangeTime = 4;
        let totalChanges = 0;
        let versionDetails = {};
        
        pendingVersions.forEach(version => {
          const versionInfo = this.VERSION_HISTORY.versions[version];
          const changesCount = versionInfo?.changes?.length || 0;
          totalChanges += changesCount;
          versionDetails[version] = {
            changesCount: changesCount,
            versionTime: changesCount * perChangeTime,
            info: versionInfo
          };
        });
        
        const estimatedSeconds = baseTime + (totalChanges * perChangeTime);
        this.estimatedTime = estimatedSeconds;
        
        // Generar lista de versiones
        const versionsListHTML = pendingVersions.map(version => {
          const details = versionDetails[version];
          const versionInfo = details.info;
          
          return `
            <div style="
              background: rgba(59, 130, 246, 0.1);
              border: 1px solid rgba(59, 130, 246, 0.3);
              border-radius: 10px;
              padding: 15px;
              margin-bottom: 12px;
              transition: all 0.3s;
              cursor: pointer;
            "
            onmouseover="this.style.background='rgba(59, 130, 246, 0.2)'; this.style.transform='translateY(-2px)'"
            onmouseout="this.style.background='rgba(59, 130, 246, 0.1)'; this.style.transform='translateY(0)'"
            onclick="window.UPDATE_SYSTEM.showVersionDetails('${version}')">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <div style="display: flex; align-items: center; gap: 10px;">
                  <div style="
                    width: 32px;
                    height: 32px;
                    background: ${versionInfo.mandatory ? '#ef4444' : '#3b82f6'};
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    font-size: 14px;
                  ">
                    ${versionInfo.mandatory ? '!' : '‚Üó'}
                  </div>
                  <div>
                    <div style="font-weight: 700; color: white; font-size: 16px;">
                      Versi√≥n v${version}
                    </div>
                    <div style="font-size: 12px; color: #94a3b8;">
                      ${versionInfo.date} ‚Ä¢ ${versionInfo.mandatory ? 'Obligatoria' : 'Opcional'}
                    </div>
                  </div>
                </div>
                <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 4px;">
                  <div style="
                    background: ${versionInfo.mandatory ? 'rgba(239, 68, 68, 0.2)' : 'rgba(34, 197, 94, 0.2)'};
                    color: ${versionInfo.mandatory ? '#ef4444' : '#22c55e'};
                    padding: 4px 12px;
                    border-radius: 20px;
                    font-size: 12px;
                    font-weight: 600;
                    white-space: nowrap;
                  ">
                    ${details.changesCount} cambios
                  </div>
                  <div style="
                    background: rgba(245, 158, 11, 0.2);
                    color: #f59e0b;
                    padding: 2px 10px;
                    border-radius: 12px;
                    font-size: 11px;
                    font-weight: 500;
                    white-space: nowrap;
                  ">
                    ${details.versionTime}s
                  </div>
                </div>
              </div>
              
              <div style="margin-top: 10px;">
                <div style="font-size: 12px; color: #3b82f6; margin-bottom: 5px; font-weight: 600;">
                  <i class="fas fa-star"></i> Principales cambios:
                </div>
                <div style="font-size: 13px; color: #cbd5e1; line-height: 1.5;">
                  ${versionInfo.changes.slice(0, 2).map(change => `
                    <div style="display: flex; align-items: flex-start; gap: 8px; margin-bottom: 5px;">
                      <i class="fas fa-chevron-right" style="color: #3b82f6; margin-top: 3px; font-size: 10px;"></i>
                      <span>${change}</span>
                    </div>
                  `).join('')}
                  ${versionInfo.changes.length > 2 ? `
                    <div style="font-size: 11px; color: #94a3b8; margin-top: 5px;">
                      + ${versionInfo.changes.length - 2} cambios m√°s...
                    </div>
                  ` : ''}
                </div>
              </div>
              
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-top: 12px;
                padding-top: 12px;
                border-top: 1px dashed rgba(255,255,255,0.1);
              ">
                <span style="font-size: 11px; color: #94a3b8; display: flex; align-items: center; gap: 5px;">
                  <i class="fas fa-clock"></i> 
                  <span>
                    Tiempo estimado: <strong style="color: #f59e0b;">${details.versionTime} segundos</strong>
                  </span>
                </span>
                <button onclick="event.stopPropagation(); window.UPDATE_SYSTEM.showVersionDetails('${version}')" 
                  style="
                    background: transparent;
                    color: #3b82f6;
                    border: 1px solid #3b82f6;
                    padding: 4px 12px;
                    border-radius: 4px;
                    font-size: 11px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                  "
                  onmouseover="this.style.background='rgba(59, 130, 246, 0.1)'"
                  onmouseout="this.style.background='transparent'">
                  Ver detalles completos
                </button>
              </div>
            </div>
          `;
        }).join('');
        
        const modalHTML = `
          <div id="fullscreen-update-modal" style="
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999999;
            padding: 20px;
            overflow-y: auto;
            opacity: 1 !improtant;
            animation: fadeIn 0.5s ease-out;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
          ">
            <div style="
              max-width: 800px;
              width: 100%;
              text-align: center;
              animation: slideUp 0.5s ease-out 0.2s both;
            ">
              <div style="
                width: 100px;
                height: 100px;
                background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 30px;
                box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
                animation: pulse 2s infinite;
                position: relative;
              ">
                <i class="fas fa-sync-alt" style="font-size: 48px;"></i>
                <div style="
                  position: absolute;
                  top: -5px;
                  right: -5px;
                  background: #ef4444;
                  color: white;
                  width: 30px;
                  height: 30px;
                  border-radius: 50%;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  font-weight: bold;
                  font-size: 14px;
                ">
                  ${pendingVersions.length}
                </div>
              </div>
              
              <h1 style="
                margin: 0 0 15px 0;
                font-size: 36px;
                font-weight: 800;
                background: linear-gradient(135deg, #3b82f6, #10b981);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                letter-spacing: -0.5px;
              ">
                Actualizaci√≥n Pendiente
              </h1>
              
              <p style="
                font-size: 18px;
                color: #bdc3c7;
                margin-bottom: 30px;
                line-height: 1.6;
              ">
                Se encontraron <strong style="color: #3b82f6;">${pendingVersions.length} actualizaciones</strong> 
                con un total de <strong style="color: #22c55e;">${totalChanges} cambios</strong>.<br>
                El sistema se actualizar√° autom√°ticamente.
              </p>
              
              <div style="
                display: flex;
                justify-content: center;
                flex-wrap: wrap;
                gap: 15px;
                margin-bottom: 30px;
              ">
                <div style="
                  background: rgba(59, 130, 246, 0.1);
                  border: 1px solid rgba(59, 130, 246, 0.3);
                  border-radius: 10px;
                  padding: 15px 25px;
                  text-align: center;
                  min-width: 140px;
                ">
                  <div style="font-size: 12px; color: #3b82f6; margin-bottom: 5px; font-weight: 600;">
                    <i class="fas fa-clock"></i> DURACI√ìN TOTAL
                  </div>
                  <div style="font-size: 24px; font-weight: 700; color: white;">
                    ${estimatedSeconds}s
                  </div>
                </div>
                
                <div style="
                  background: rgba(34, 197, 94, 0.1);
                  border: 1px solid rgba(34, 197, 94, 0.3);
                  border-radius: 10px;
                  padding: 15px 25px;
                  text-align: center;
                  min-width: 140px;
                ">
                  <div style="font-size: 12px; color: #22c55e; margin-bottom: 5px; font-weight: 600;">
                    <i class="fas fa-layer-group"></i> VERSIONES
                  </div>
                  <div style="font-size: 24px; font-weight: 700; color: white;">
                    ${pendingVersions.length}
                  </div>
                </div>
                
                <div style="
                  background: rgba(139, 92, 246, 0.1);
                  border: 1px solid rgba(139, 92, 246, 0.3);
                  border-radius: 10px;
                  padding: 15px 25px;
                  text-align: center;
                  min-width: 140px;
                ">
                  <div style="font-size: 12px; color: #8b5cf6; margin-bottom: 5px; font-weight: 600;">
                    <i class="fas fa-tasks"></i> CAMBIOS TOTALES
                  </div>
                  <div style="font-size: 24px; font-weight: 700; color: white;">
                    ${totalChanges}
                  </div>
                </div>
              </div>
              
              <div style="
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 25px;
                margin-bottom: 30px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                max-height: 400px;
                overflow-y: auto;
              ">
                <div style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  margin-bottom: 20px;
                ">
                  <i class="fas fa-list-check" style="color: #3b82f6; font-size: 20px;"></i>
                  <h2 style="margin: 0; font-size: 22px; color: white;">
                    Versiones a actualizar
                  </h2>
                  <span style="
                    background: rgba(59, 130, 246, 0.2);
                    color: #3b82f6;
                    padding: 4px 12px;
                    border-radius: 20px;
                    font-size: 12px;
                    font-weight: 600;
                    margin-left: auto;
                  ">
                    ${pendingVersions.length} versiones ‚Ä¢ ${totalChanges} cambios
                  </span>
                </div>
                
                <div style="
                  background: rgba(59, 130, 246, 0.05);
                  border-radius: 8px;
                  padding: 12px;
                  margin-bottom: 15px;
                  border: 1px dashed rgba(59, 130, 246, 0.3);
                ">
                  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                    <i class="fas fa-calculator" style="color: #3b82f6; font-size: 16px;"></i>
                    <span style="font-size: 13px; font-weight: 600; color: #3b82f6;">
                      C√°lculo de tiempo estimado:
                    </span>
                  </div>
                  <div style="font-size: 12px; color: #94a3b8; line-height: 1.5;">
                    <strong>${baseTime}s</strong> (inicializaci√≥n) + 
                    <strong>${totalChanges} cambios</strong> √ó 
                    <strong>${perChangeTime}s/cambio</strong> = 
                    <strong style="color: #f59e0b;">${estimatedSeconds} segundos totales</strong>
                  </div>
                </div>
                
                <div id="pending-versions-list">
                  ${versionsListHTML}
                </div>
              </div>
              
              <div style="
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 20px;
                margin-bottom: 25px;
                border: 1px dashed rgba(255, 255, 255, 0.2);
              ">
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 10px;">
                  <i class="fas fa-robot" style="color: #3b82f6; font-size: 20px;"></i>
                  <span style="font-size: 16px; font-weight: 600; color: #3b82f6;">
                    INICIO AUTOM√ÅTICO
                  </span>
                </div>
                <p style="font-size: 14px; color: #94a3b8; margin: 0;">
                  La actualizaci√≥n comenzar√° en <span id="countdown" style="color: #22c55e; font-weight: bold; font-size: 18px;">10</span> segundos...
                </p>
                <div style="margin-top: 15px;">
                  <button onclick="window.UPDATE_SYSTEM.startUpdateProcess()" 
                    style="
                      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
                      color: white;
                      border: none;
                      padding: 12px 30px;
                      border-radius: 8px;
                      font-size: 15px;
                      font-weight: 600;
                      cursor: pointer;
                      display: inline-flex;
                      align-items: center;
                      gap: 10px;
                      transition: all 0.3s;
                      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
                    "
                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(34, 197, 94, 0.4)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(34, 197, 94, 0.3)'">
                    <i class="fas fa-play-circle"></i>
                    Iniciar Ahora
                  </button>
                </div>
              </div>
              
              <div style="
                background: rgba(239, 68, 68, 0.1);
                border: 1px solid rgba(239, 68, 68, 0.3);
                border-radius: 10px;
                padding: 15px;
              ">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                  <i class="fas fa-exclamation-triangle" style="color: #ef4444;"></i>
                  <strong style="color: #ef4444; font-size: 14px;">IMPORTANTE</strong>
                </div>
                <div style="font-size: 12px; color: #ecf0f1; text-align: left; line-height: 1.5;">
                  <div style="display: flex; align-items: flex-start; gap: 8px; margin-bottom: 5px;">
                    <i class="fas fa-ban" style="color: #ef4444; margin-top: 2px;"></i>
                    <span>No cierre esta ventana durante la actualizaci√≥n</span>
                  </div>
                  <div style="display: flex; align-items: flex-start; gap: 8px;">
                    <i class="fas fa-sync-alt" style="color: #22c55e; margin-top: 2px;"></i>
                    <span>Al finalizar, deber√° recargar la p√°gina manualmente</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
        
        // Remover modal existente
        const existingModal = document.getElementById('fullscreen-update-modal');
        if (existingModal) existingModal.remove();
        
        // Agregar nuevo modal
        document.body.insertAdjacentHTML('beforeend', modalHTML);
        
        // Iniciar cuenta regresiva
        let countdown = 10;
        const countdownElement = document.getElementById('countdown');
        const countdownInterval = setInterval(() => {
          countdown--;
          if (countdownElement) countdownElement.textContent = countdown;
          
          if (countdown <= 0) {
            clearInterval(countdownInterval);
            const autoStartSection = document.querySelector('[style*="INICIO AUTOM√ÅTICO"]');
            if (autoStartSection) autoStartSection.style.display = 'none';
            this.startUpdateProcess();
          }
        }, 1000);
      },

      // üöÄ INICIAR PROCESO DE ACTUALIZACI√ìN
      startUpdateProcess: function() {
        if (this.isUpdating) return;
        
        this.isUpdating = true;
        this.updateProgress = 0;
        const pendingVersions = this.getPendingVersions();
        
        // Ocultar secci√≥n de inicio autom√°tico
        const autoStartSection = document.querySelector('[style*="INICIO AUTOM√ÅTICO"]');
        if (autoStartSection) autoStartSection.style.display = 'none';
        
        // Actualizar modal
        const modal = document.getElementById('fullscreen-update-modal');
        if (!modal) return;
        
        modal.innerHTML = `
          <div style="
            max-width: 800px;
            height: 100%;
            overflow: auto;
            width: 100%;
            text-align: center;
            animation: slideUp 0.5s ease-out;
          ">
            <div style="margin-bottom: 40px;">
              <div style="
                width: 80px;
                height: 80px;
                background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 20px;
                box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
              ">
                <i class="fas fa-sync-alt fa-spin" style="font-size: 36px;"></i>
              </div>
              <h1 style="
                margin: 0 0 10px 0;
                font-size: 32px;
                font-weight: 700;
                color: white;
              ">
                Actualizando Sistema...
              </h1>
              <p style="font-size: 16px; color: #bdc3c7; margin: 0;">
                ${pendingVersions.length} actualizaciones en proceso
              </p>
            </div>
            
            <div style="margin-bottom: 40px;">
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
              ">
                <span style="font-size: 14px; color: #94a3b8;">
                  <i class="fas fa-spinner fa-spin"></i> Progreso de Actualizaci√≥n
                </span>
                <span id="progress-percentage" style="
                  font-size: 24px;
                  font-weight: 700;
                  color: #22c55e;
                  background: rgba(34, 197, 94, 0.1);
                  padding: 5px 15px;
                  border-radius: 20px;
                  border: 1px solid rgba(34, 197, 94, 0.3);
                ">
                  0%
                </span>
              </div>
              
              <div style="
                width: 100%;
                height: 16px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 8px;
                overflow: hidden;
                margin-bottom: 10px;
                position: relative;
              ">
                <div id="progress-bar" style="
                  width: 0%;
                  height: 100%;
                  background: linear-gradient(90deg, #3b82f6, #22c55e);
                  border-radius: 8px;
                  transition: width 0.5s ease;
                  position: relative;
                ">
                  <div style="
                    position: absolute;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    width: 40px;
                    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
                    animation: shimmer 1.5s infinite;
                  "></div>
                </div>
              </div>
              
              <div style="
                display: flex;
                justify-content: space-between;
                margin-top: 20px;
              ">
                <div style="text-align: left;">
                  <div id="current-action" style="
                    font-size: 14px;
                    font-weight: 600;
                    color: white;
                    margin-bottom: 5px;
                  ">
                    <i class="fas fa-cog fa-spin"></i> Iniciando proceso...
                  </div>
                  <div id="version-info" style="font-size: 12px; color: #94a3b8;">
                    Preparando actualizaci√≥n...
                  </div>
                </div>
                
                <div style="text-align: right;">
                  <div id="time-remaining" style="
                    font-size: 14px;
                    font-weight: 600;
                    color: #f59e0b;
                    margin-bottom: 5px;
                  ">
                    <i class="fas fa-clock"></i> ${this.estimatedTime}s restantes
                  </div>
                  <div style="font-size: 12px; color: #94a3b8;">
                    ${pendingVersions.length} versiones pendientes
                  </div>
                </div>
              </div>
            </div>
            
            <div style="
              background: rgba(255, 255, 255, 0.05);
              border-radius: 10px;
              padding: 20px;
              margin-bottom: 30px;
              border: 1px solid rgba(255, 255, 255, 0.1);
            ">
              <div style="
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 15px;
              ">
                <i class="fas fa-list-ol" style="color: #8b5cf6;"></i>
                <span style="font-size: 16px; font-weight: 600; color: white;">
                  Versiones en proceso
                </span>
                <span style="
                  background: rgba(139, 92, 246, 0.2);
                  color: #8b5cf6;
                  padding: 4px 12px;
                  border-radius: 20px;
                  font-size: 12px;
                  font-weight: 600;
                  margin-left: auto;
                ">
                  ${pendingVersions.length} versiones
                </span>
              </div>
              
              <div id="versions-list" style="
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
              ">
                ${pendingVersions.map((version, index) => {
                  const versionInfo = this.VERSION_HISTORY.versions[version];
                  return `
                    <div id="version-${version}" style="
                      background: rgba(255, 255, 255, 0.05);
                      border: 1px solid rgba(255, 255, 255, 0.1);
                      padding: 10px 15px;
                      border-radius: 20px;
                      font-size: 13px;
                      font-weight: 500;
                      color: #94a3b8;
                      transition: all 0.3s ease;
                      min-width: 120px;
                      text-align: center;
                      cursor: pointer;
                    "
                    onclick="window.UPDATE_SYSTEM.showVersionDetails('${version}')"
                    onmouseover="this.style.background='rgba(59, 130, 246, 0.1)'; this.style.borderColor='#3b82f6'"
                    onmouseout="this.style.background='rgba(255, 255, 255, 0.05)'; this.style.borderColor='rgba(255, 255, 255, 0.1)'"
                    title="Ver detalles de v${version}">
                      <div style="margin-bottom: 5px;">
                        <i class="fas fa-clock" style="margin-right: 5px;"></i>
                        v${version}
                      </div>
                      <div style="font-size: 11px; color: #64748b;">
                        ${versionInfo.changes.length} cambios
                      </div>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>
            
            <div style="
              background: rgba(59, 130, 246, 0.1);
              border-radius: 10px;
              padding: 15px;
              border-left: 4px solid #3b82f6;
            ">
              <div style="display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-info-circle" style="color: #3b82f6;"></i>
                <span style="font-size: 14px; color: white; font-weight: 500;">
                  Por favor, espere hasta que se complete todo el proceso. <strong style="color:red">No cierre la p√°gina</strong>
                </span>
              </div>
            </div>
          </div>
        `;
        
        // Iniciar simulaci√≥n
        this.simulateUpdateProcess(pendingVersions);
      },

      // ‚è±Ô∏è SIMULAR PROCESO DE ACTUALIZACI√ìN
      simulateUpdateProcess: function(pendingVersions) {
        const baseTime = 10;
        const perChangeTime = 4;
        
        let totalChanges = 0;
        let versionTimes = {};
        
        pendingVersions.forEach(version => {
          const versionInfo = this.VERSION_HISTORY.versions[version];
          const changesCount = versionInfo?.changes?.length || 0;
          totalChanges += changesCount;
          versionTimes[version] = changesCount * perChangeTime;
        });
        
        const totalSeconds = baseTime + (totalChanges * perChangeTime);
        this.estimatedTime = totalSeconds;
        
        const totalSteps = pendingVersions.length + 5;
        let currentStep = 0;
        
        const progressBar = document.getElementById('progress-bar');
        const progressPercentage = document.getElementById('progress-percentage');
        const currentAction = document.getElementById('current-action');
        const versionInfo = document.getElementById('version-info');
        const timeRemaining = document.getElementById('time-remaining');
        
        const updateRemainingTime = (progress) => {
          if (timeRemaining) {
            const remaining = Math.max(0, totalSeconds - Math.round(totalSeconds * (progress / 100)));
            timeRemaining.innerHTML = `<i class="fas fa-clock"></i> ${remaining}s restantes`;
          }
        };
        
        const nextStep = (message, version = null, isComplete = false) => {
          currentStep++;
          const progress = Math.min(100, Math.round((currentStep / totalSteps) * 100));
          
          if (progressBar) progressBar.style.width = progress + '%';
          if (progressPercentage) progressPercentage.textContent = progress + '%';
          
          updateRemainingTime(progress);
          
          if (currentAction) {
            const iconClass = isComplete ? 'fa-check-circle' : 'fa-cog fa-spin';
            currentAction.innerHTML = `
              <i class="fas ${iconClass}"></i> 
              ${message}
            `;
          }
          
          if (version && versionInfo) {
            const versionIndex = pendingVersions.indexOf(version) + 1;
            const versionData = this.VERSION_HISTORY.versions[version];
            const changesCount = versionData.changes.length;
            const versionTime = changesCount * perChangeTime;
            
            versionInfo.innerHTML = `
              Versi√≥n ${versionIndex} de ${pendingVersions.length} ‚Ä¢ 
              <strong style="color: #3b82f6;">v${version}</strong> ‚Ä¢ 
              ${changesCount} cambios ‚Ä¢ 
              ${versionTime}s ‚Ä¢ 
              ${versionData.mandatory ? '<span style="color: #ef4444;">Obligatoria</span>' : '<span style="color: #22c55e;">Opcional</span>'}
            `;
            
            const versionElement = document.getElementById(`version-${version}`);
            if (versionElement) {
              versionElement.style.background = 'rgba(34, 197, 94, 0.2)';
              versionElement.style.borderColor = '#22c55e';
              versionElement.style.color = '#22c55e';
              versionElement.innerHTML = `
                <div style="margin-bottom: 5px;">
                  <i class="fas fa-check-circle"></i>
                  v${version}
                </div>
                <div style="font-size: 11px; color: #16a34a;">
                  ${changesCount} cambios<br>${versionTime}s
                </div>
              `;
            }
          }
        };
        
        // PASOS INICIALES
        setTimeout(() => nextStep("Inicializando sistema de actualizaci√≥n..."), 500);
        setTimeout(() => nextStep("Creando copia de seguridad del sistema..."), 2000);
        setTimeout(() => nextStep("Verificando integridad de archivos..."), 3500);
        setTimeout(() => nextStep("Preparando archivos de actualizaci√≥n..."), 5000);
        
        // PROCESAR CADA VERSI√ìN
        let accumulatedTime = 6500;
        
        pendingVersions.forEach((version, index) => {
          const versionInfo = this.VERSION_HISTORY.versions[version];
          const changesCount = versionInfo.changes.length;
          const versionTime = changesCount * perChangeTime * 1000;
          
          setTimeout(() => {
            const stepMessage = versionInfo.mandatory 
              ? `Actualizando a v${version} (OBLIGATORIO - ${changesCount} cambios)...`
              : `Aplicando cambios de v${version} (${changesCount} cambios)...`;
            
            nextStep(stepMessage, version);
          }, accumulatedTime);
          
          accumulatedTime += versionTime;
        });
        
        // PASOS FINALES
        setTimeout(() => nextStep("Aplicando configuraciones finales..."), accumulatedTime + 1000);
        setTimeout(() => nextStep("Verificando instalaci√≥n..."), accumulatedTime + 2500);
        setTimeout(() => nextStep("Guardando cambios en localStorage..."), accumulatedTime + 4000);
        
        // GUARDAR EN LOCALSTORAGE
        setTimeout(() => {
          nextStep("Actualizando registro de versi√≥n...");
          
          this.saveUpdatedVersion(this.VERSION_HISTORY.latestVersion)
            .then((result) => {
              console.log("Resultado del guardado:", result);
              
              setTimeout(() => {
                nextStep("¬°Actualizaci√≥n completada exitosamente!", null, true);
                
                setTimeout(() => {
                  this.isUpdateComplete = true;
                  this.showUpdateComplete();
                }, 1500);
              }, 1500);
            });
        }, accumulatedTime + 5500);
      },

      // ‚úÖ MOSTRAR PANTALLA DE COMPLETADO
      showUpdateComplete: function() {
        const modal = document.getElementById('fullscreen-update-modal');
        if (!modal) return;
        
        modal.innerHTML = `
          <div style="
            max-width: 700px;
            height: 100%;
            overflow: auto;
            width: 100%;
            text-align: center;
            animation: slideUp 0.5s ease-out;
          ">
            <div style="
              width: 120px;
              height: 120px;
              background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 0 auto 30px;
              box-shadow: 0 15px 35px rgba(34, 197, 94, 0.4);
              animation: bounceIn 0.8s ease-out;
              position: relative;
            ">
              <i class="fas fa-check" style="font-size: 60px;"></i>
            </div>
            
            <h1 style="
              margin: 0 0 15px 0;
              font-size: 40px;
              font-weight: 800;
              color: #22c55e;
              letter-spacing: -0.5px;
            ">
              ¬°Actualizaci√≥n Exitosa!
            </h1>
            
            <p style="
              font-size: 18px;
              color: #bdc3c7;
              margin-bottom: 40px;
              line-height: 1.6;
            ">
              Se ha actualizado en ${this.estimatedTime} segundos
            </p>
            
            <div style="
              background: rgba(34, 197, 94, 0.1);
              border-radius: 12px;
              padding: 20px;
              margin-bottom: 40px;
              border: 2px solid rgba(34, 197, 94, 0.3);
            ">
              <div style="font-size: 14px; color: #22c55e; margin-bottom: 10px; font-weight: 600;">
                <i class="fas fa-flag-checkered"></i> VERSI√ìN ACTUALIZADA
              </div>
              <div style="
                font-size: 42px;
                font-weight: 800;
                color: #22c55e;
                text-shadow: 0 2px 10px rgba(34, 197, 94, 0.3);
                font-family: 'Courier New', monospace;
              ">
                v${this.VERSION_HISTORY.latestVersion}
              </div>
              <div style="font-size: 14px; color: #94a3b8; margin-top: 10px;">
                Guardada en localStorage el ${new Date().toLocaleDateString()}
              </div>
            </div>
            
            <div style="
              background: rgba(239, 68, 68, 0.1);
              border-radius: 15px;
              padding: 25px;
              margin-bottom: 40px;
              border: 2px solid rgba(239, 68, 68, 0.3);
              text-align: left;
            ">
              <div style="
                display: flex;
                align-items: center;
                gap: 15px;
                margin-bottom: 20px;
              ">
                <div style="
                  width: 50px;
                  height: 50px;
                  background: #ef4444;
                  border-radius: 50%;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                ">
                  <i class="fas fa-sync-alt" style="font-size: 24px;"></i>
                </div>
                <div>
                  <h2 style="margin: 0 0 5px 0; font-size: 24px; color: #ef4444;">
                    PASO FINAL REQUERIDO
                  </h2>
                  <p style="margin: 0; color: #fca5a5; font-size: 16px;">
                    Debe recargar la p√°gina manualmente para aplicar todos los cambios
                  </p>
                </div>
              </div>
              
              <div style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-bottom: 25px;
              ">
                <div style="
                  background: rgba(59, 130, 246, 0.1);
                  border-radius: 10px;
                  padding: 20px;
                  border-left: 4px solid #3b82f6;
                ">
                  <div style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin-bottom: 15px;
                  ">
                    <i class="fas fa-desktop" style="color: #3b82f6; font-size: 24px;"></i>
                    <h3 style="margin: 0; color: white; font-size: 18px;">
                      En Computadora
                    </h3>
                  </div>
                  <ul style="
                    margin: 0;
                    padding-left: 20px;
                    color: #cbd5e1;
                    font-size: 14px;
                    line-height: 1.8;
                  ">
                    <li><strong>M√©todo 1:</strong> Presiona <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px;">F5</code></li>
                    <li><strong>M√©todo 2:</strong> Usa <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px;">Ctrl + R</code> (Windows/Linux)</li>
                    <li><strong>M√©todo 3:</strong> Usa <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px;">Cmd + R</code> (Mac)</li>
                  </ul>
                </div>
                
                <div style="
                  background: rgba(139, 92, 246, 0.1);
                  border-radius: 10px;
                  padding: 20px;
                  border-left: 4px solid #8b5cf6;
                ">
                  <div style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin-bottom: 15px;
                  ">
                    <i class="fas fa-mobile-alt" style="color: #8b5cf6; font-size: 24px;"></i>
                    <h3 style="margin: 0; color: white; font-size: 18px;">
                      En M√≥vil
                    </h3>
                  </div>
                  <ul style="
                    margin: 0;
                    padding-left: 20px;
                    color: #cbd5e1;
                    font-size: 14px;
                    line-height: 1.8;
                  ">
                    <li><strong>M√©todo 1:</strong> Desliza hacia abajo</li>
                    <li><strong>M√©todo 2:</strong> Toca el √≠cono ‚Üª en la barra</li>
                    <li><strong>M√©todo 3:</strong> Men√∫ ‚Üí "Recargar"</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div style="margin-top: 20px;">
              <button onclick="document.getElementById('fullscreen-update-modal').remove(); document.body.style.overflow = ''; document.documentElement.style.overflow = '';" 
                style="
                  background: rgba(255, 255, 255, 0.1);
                  color: white;
                  border: 1px solid rgba(255, 255, 255, 0.3);
                  padding: 12px 30px;
                  border-radius: 8px;
                  font-size: 15px;
                  font-weight: 600;
                  cursor: pointer;
                  display: inline-flex;
                  align-items: center;
                  gap: 10px;
                  transition: all 0.3s;
                "
                onmouseover="this.style.background='rgba(255, 255, 255, 0.2)'; this.style.transform='translateY(-2px)'"
                onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'; this.style.transform='translateY(0)'">
                <i class="fas fa-times"></i>
                Cerrar ventana
              </button>
            </div>
            
            <div style="
              background: rgba(34, 197, 94, 0.05);
              border-radius: 10px;
              padding: 15px;
              border: 1px solid rgba(34, 197, 94, 0.2);
              margin-top: 30px;
            ">
              <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                <i class="fas fa-database" style="color: #22c55e;"></i>
                <span style="font-size: 14px; color: #94a3b8;">
                  Versi√≥n v${this.VERSION_HISTORY.latestVersion} guardada en localStorage
                </span>
              </div>
            </div>
          </div>
        `;
        
        document.body.style.overflow = '';
        document.documentElement.style.overflow = '';
      },

      // üìã MOSTRAR DETALLES DE VERSI√ìN
      showVersionDetails: function(version) {
        console.log("üîç Mostrando detalles de versi√≥n:", version);
        
        const versionInfo = this.VERSION_HISTORY.versions[version];
        if (!versionInfo) {
          console.error("‚ùå Versi√≥n no encontrada:", version);
          return;
        }
        
        const pendingVersions = this.getPendingVersions();
        const futureVersions = this.getFutureVersions();
        const isCurrent = version === this.VERSION_HISTORY.currentVersion;
        const isFuture = futureVersions.includes(version);
        const isPrevious = this.getPreviousVersions().includes(version);
        
        let versionType, versionColor, versionIcon;
        
        if (isCurrent) {
          versionType = "TU VERSI√ìN ACTUAL";
          versionColor = "#22c55e";
          versionIcon = "fa-star";
        } else if (futureVersions.includes(version)) {
          versionType = "PR√ìXIMA VERSI√ìN";
          versionColor = "#8b5cf6";
          versionIcon = "fa-clock";
        } else if (pendingVersions.includes(version)) {
          versionType = versionInfo.mandatory ? "ACTUALIZACI√ìN OBLIGATORIA" : "ACTUALIZACI√ìN DISPONIBLE";
          versionColor = versionInfo.mandatory ? "#ef4444" : "#3b82f6";
          versionIcon = versionInfo.mandatory ? "fa-exclamation-triangle" : "fa-arrow-circle-up";
        } else if (isPrevious) {
          versionType = "VERSI√ìN IMPLEMENTADA";
          versionColor = "#64748b";
          versionIcon = "fa-check-circle";
        }
        
        const resourcesHTML = this.renderResources(versionInfo.resources, version);
        
        const modalHTML = `
          <div id="version-details-modal" style="
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999999;
            padding: 20px;
            animation: fadeIn 0.3s ease-out;
            backdrop-filter: blur(10px);
          ">
            <div style="
              background: #1e293b;
              border-radius: 20px;
              max-width: 800px;
              width: 100%;
              max-height: 85vh;
              overflow-y: auto;
              box-shadow: 0 25px 50px rgba(0,0,0,0.6);
              animation: slideUp 0.4s ease-out;
              border: 1px solid rgba(255,255,255,0.1);
            ">
              <div style="
                background: linear-gradient(135deg, ${versionColor} 0%, ${this.darkenColor(versionColor, 20)} 100%);
                color: white;
                padding: 25px 30px;
                border-radius: 20px 20px 0 0;
                position: sticky;
                top: 0;
                z-index: 2;
                border-bottom: 1px solid rgba(255,255,255,0.1);
              ">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 20px;">
                  <div style="flex: 1;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                      <div style="
                        width: 50px;
                        height: 50px;
                        background: rgba(255,255,255,0.2);
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 24px;
                      ">
                        <i class="fas ${versionIcon}"></i>
                      </div>
                      <div>
                        <h2 style="margin: 0 0 5px 0; font-size: 28px; font-weight: 800;">
                          Versi√≥n v${version}
                        </h2>
                        <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                          <span style="
                            background: rgba(255,255,255,0.2);
                            padding: 6px 14px;
                            border-radius: 20px;
                            font-size: 12px;
                            font-weight: 700;
                            backdrop-filter: blur(10px);
                          ">
                            ${versionType}
                          </span>
                          <span style="font-size: 14px; opacity: 0.9; display: flex; align-items: center; gap: 5px;">
                            <i class="far fa-calendar"></i> ${versionInfo.date}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <button onclick="this.parentElement.parentElement.parentElement.parentElement.remove()" 
                    style="
                      background: rgba(255,255,255,0.2);
                      border: none;
                      width: 40px;
                      height: 40px;
                      border-radius: 50%;
                      color: white;
                      cursor: pointer;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      transition: all 0.2s;
                      flex-shrink: 0;
                    "
                    onmouseover="this.style.background='rgba(255,255,255,0.3)'; this.style.transform='rotate(90deg)'"
                    onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='rotate(0deg)'">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
                
                <div style="
                  display: flex;
                  gap: 15px;
                  margin-top: 20px;
                  flex-wrap: wrap;
                ">
                  <div style="
                    background: rgba(255,255,255,0.15);
                    padding: 12px 15px;
                    border-radius: 10px;
                    flex: 1;
                    min-width: 120px;
                  ">
                    <div style="font-size: 12px; opacity: 0.9; margin-bottom: 5px; display: flex; align-items: center; gap: 6px;">
                      <i class="fas fa-bullhorn"></i> NOVEDADES
                    </div>
                    <div style="font-size: 22px; font-weight: 800;">
                      ${versionInfo.changes.length}
                    </div>
                  </div>
                  
                  ${versionInfo.mandatory !== undefined ? `
                    <div style="
                      background: rgba(255,255,255,0.15);
                      padding: 12px 15px;
                      border-radius: 10px;
                      flex: 1;
                      min-width: 120px;
                    ">
                      <div style="font-size: 12px; opacity: 0.9; margin-bottom: 5px; display: flex; align-items: center; gap: 6px;">
                        <i class="fas fa-exclamation-circle"></i> TIPO
                      </div>
                      <div style="font-size: 22px; font-weight: 800;">
                        ${versionInfo.mandatory ? 'Obligatoria' : 'Opcional'}
                      </div>
                    </div>
                  ` : ''}
                </div>
              </div>
              
              <div style="padding: 30px;">
                <div style="margin-bottom: 30px;">
                  <h3 style="
                    color: #e2e8f0; 
                    margin: 0 0 20px 0; 
                    font-size: 22px;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                  ">
                    <i class="fas fa-star" style="color: ${versionColor};"></i>
                    Novedades y Cambios
                  </h3>
                  <div style="
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 12px;
                    padding: 20px;
                    border-left: 4px solid ${versionColor};
                  ">
                    <ul style="margin: 0; padding-left: 20px;">
                      ${versionInfo.changes.map((change, index) => `
                        <li style="
                          margin-bottom: 15px;
                          color: #cbd5e1;
                          padding-left: 10px;
                          line-height: 1.5;
                          position: relative;
                          font-size: 15px;
                        ">
                          <span style="
                            position: absolute;
                            left: -20px;
                            top: 8px;
                            width: 8px;
                            height: 8px;
                            background: ${versionColor};
                            border-radius: 50%;
                          "></span>
                          ${change}
                        </li>
                      `).join('')}
                    </ul>
                  </div>
                </div>
                
                ${resourcesHTML}
              </div>
              
              <div style="
                padding: 20px 30px;
                background: rgba(0,0,0,0.2);
                border-top: 1px solid rgba(255,255,255,0.1);
                border-radius: 0 0 20px 20px;
              ">
                <button onclick="this.parentElement.parentElement.parentElement.remove()" 
                  style="
                    background: ${versionColor};
                    color: white;
                    border: none;
                    padding: 12px 30px;
                    border-radius: 10px;
                    font-size: 15px;
                    font-weight: 700;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin: 0 auto;
                    transition: all 0.3s;
                    box-shadow: 0 4px 15px rgba(${this.hexToRgb(versionColor)}, 0.4);
                  "
                  onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(${this.hexToRgb(versionColor)}, 0.6)'"
                  onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(${this.hexToRgb(versionColor)}, 0.4)'">
                  <i class="fas fa-times"></i>
                  Cerrar Detalles
                </button>
              </div>
            </div>
          </div>
        `;
        
        const existingModal = document.getElementById('version-details-modal');
        if (existingModal) existingModal.remove();
        
        document.body.insertAdjacentHTML('beforeend', modalHTML);
      },

      // üñºÔ∏è RENDERIZAR RECURSOS
      renderResources: function(resources, version) {
        if (!resources || (!resources.images && !resources.videos && !resources.links)) {
          return '';
        }
        
        let html = '<div style="margin-top: 30px;">';
        
        if (resources.images && resources.images.length > 0) {
          html += `
            <div style="margin-bottom: 30px;">
              <h3 style="
                color: #e2e8f0; 
                margin: 0 0 15px 0; 
                font-size: 20px;
                display: flex;
                align-items: center;
                gap: 10px;
              ">
                <i class="fas fa-images" style="color: #3b82f6;"></i>
                Capturas de Pantalla
              </h3>
              <div style="
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 12px;
              ">
                ${resources.images.map((imageUrl, index) => `
                  <a href="${imageUrl}" target="_blank" rel="noopener noreferrer" 
                    style="
                      display: block;
                      border-radius: 10px;
                      overflow: hidden;
                      border: 2px solid rgba(59, 130, 246, 0.3);
                      transition: all 0.3s;
                      position: relative;
                      aspect-ratio: 1/1;
                    "
                    onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#3b82f6'"
                    onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(59, 130, 246, 0.3)'"
                    title="Ver imagen">
                    <img src="${imageUrl}" 
                      alt="Captura v${version}"
                      style="
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                      ">
                    <div style="
                      position: absolute;
                      bottom: 0;
                      left: 0;
                      right: 0;
                      background: rgba(59, 130, 246, 0.9);
                      color: white;
                      font-size: 10px;
                      padding: 4px;
                      text-align: center;
                    ">
                      <i class="fas fa-expand"></i> Ver
                    </div>
                  </a>
                `).join('')}
              </div>
            </div>
          `;
        }
        
        if (resources.videos && resources.videos.length > 0) {
          html += `
            <div style="margin-bottom: 30px;">
              <h3 style="
                color: #e2e8f0; 
                margin: 0 0 15px 0; 
                font-size: 20px;
                display: flex;
                align-items: center;
                gap: 10px;
              ">
                <i class="fab fa-youtube" style="color: #ef4444;"></i>
                Videos Demostrativos
              </h3>
              <div style="
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 15px;
              ">
                ${resources.videos.map((videoUrl, index) => {
                  const videoId = videoUrl.includes('youtube.com/embed/') 
                    ? videoUrl.split('youtube.com/embed/')[1]?.split('?')[0]
                    : videoUrl.includes('youtu.be/')
                      ? videoUrl.split('youtu.be/')[1]?.split('?')[0]
                      : null;
                  
                  if (!videoId) return '';
                  
                  return `
                    <div style="
                      background: rgba(239, 68, 68, 0.1);
                      border: 1px solid rgba(239, 68, 68, 0.3);
                      border-radius: 12px;
                      padding: 15px;
                    ">
                      <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                        <iframe 
                          src="https://www.youtube.com/embed/${videoId}?rel=0&modestbranding=1"
                          style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                          allowfullscreen>
                        </iframe>
                      </div>
                      <div style="margin-top: 12px; text-align: center;">
                        <a href="https://youtu.be/${videoId}" 
                          target="_blank" 
                          rel="noopener noreferrer"
                          style="
                            display: inline-flex;
                            align-items: center;
                            gap: 8px;
                            background: #ef4444;
                            color: white;
                            padding: 8px 16px;
                            border-radius: 6px;
                            text-decoration: none;
                            font-size: 13px;
                            font-weight: 600;
                            transition: all 0.2s;
                          "
                          onmouseover="this.style.background='#dc2626'; this.style.transform='translateY(-2px)'"
                          onmouseout="this.style.background='#ef4444'; this.style.transform='translateY(0)'">
                          <i class="fab fa-youtube"></i>
                          Ver en YouTube
                        </a>
                      </div>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>
          `;
        }
        
        if (resources.links && resources.links.length > 0) {
          html += `
            <div>
              <h3 style="
                color: #e2e8f0; 
                margin: 0 0 15px 0; 
                font-size: 20px;
                display: flex;
                align-items: center;
                gap: 10px;
              ">
                <i class="fas fa-external-link-alt" style="color: #22c55e;"></i>
                Recursos Relacionados
              </h3>
              <div style="
                display: flex;
                flex-direction: column;
                gap: 12px;
              ">
                ${resources.links.map(link => `
                  <a href="${link.url}" 
                    target="_blank" 
                    rel="noopener noreferrer"
                    style="
                      display: block;
                      padding: 16px;
                      background: rgba(255, 255, 255, 0.05);
                      border-radius: 10px;
                      border: 1px solid rgba(34, 197, 94, 0.3);
                      text-decoration: none;
                      color: #e2e8f0;
                      transition: all 0.3s;
                    "
                    onmouseover="this.style.transform='translateX(5px)'; this.style.background='rgba(34, 197, 94, 0.1)'; this.style.borderColor='#22c55e'"
                    onmouseout="this.style.transform='translateX(0)'; this.style.background='rgba(255, 255, 255, 0.05)'; this.style.borderColor='rgba(34, 197, 94, 0.3)'">
                    <div style="display: flex; align-items: center;">
                      <div style="
                        width: 40px;
                        height: 40px;
                        background: #22c55e;
                        color: white;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin-right: 15px;
                        flex-shrink: 0;
                      ">
                        <i class="fas fa-external-link-alt"></i>
                      </div>
                      <div style="flex: 1;">
                        <div style="font-weight: 700; margin-bottom: 4px; color: white; font-size: 16px;">
                          ${link.title}
                        </div>
                        ${link.description ? `
                          <div style="font-size: 13px; color: #94a3b8;">
                            ${link.description}
                          </div>
                        ` : ''}
                      </div>
                      <i class="fas fa-chevron-right" style="color: #64748b; font-size: 14px;"></i>
                    </div>
                  </a>
                `).join('')}
              </div>
            </div>
          `;
        }
        
        html += '</div>';
        return html;
      },

      // üîç VERIFICAR ACTUALIZACIONES
      checkForUpdates: function() {
        console.log("üîç VERIFICANDO ACTUALIZACIONES");
        console.log("üìå Versi√≥n actual (localStorage):", this.VERSION_HISTORY.currentVersion);
        console.log("üéØ √öltima versi√≥n disponible:", this.VERSION_HISTORY.latestVersion);
        
        const pendingVersions = this.getPendingVersions();
        const hasUpdates = pendingVersions.length > 0;
        
        if (hasUpdates) {
          console.log("üîÑ Actualizaciones pendientes encontradas:", pendingVersions.length);
          
          // Oscurecer el contenido principal
          const mainContent = document.body;
          if (mainContent) {
            mainContent.style.transition = 'opacity 0.8s ease';
            mainContent.style.opacity = '0.3';
            mainContent.style.pointerEvents = 'none';
          }
          
          this.showFullScreenUpdate();
        } else {
          console.log("‚úÖ Sistema actualizado");
          // Restaurar opacidad normal
          document.body.style.opacity = '1';
          document.body.style.pointerEvents = 'auto';
        }
      }
    };

    // Exponer globalmente
    window.UPDATE_SYSTEM = UPDATE_SYSTEM;
    
    // Verificar actualizaciones
    setTimeout(() => {
      UPDATE_SYSTEM.checkForUpdates();
    }, 1000);
  }
})();
</script>
