<!DOCTYPE html>
<html lang="es">
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
<script src="jquery-3.5.1.min.js"></script>
 <script> 
    $(function(){
      $("#menu").load("menu.html"); 
    });
    $(function(){
      $("#footer").load("footer.html"); 
    });
  $(function(){
      $("#news").load("news.html"); 
    });
 </script>
<!-- header.html -->
<head>
<script src="index.js"></script> <script src="time.js"></script> <script src="temas.js"></script> <link rel="stylesheet" href="index.css"> <link rel="stylesheet" href="temas.css">
<link rel="icon" href="img/GROUVEX.png"> <link rel="icon" href="GROUVEX.png" type="image/x-icon">
<meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8"> <meta name="author" content="Grouvex Studios"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="copyright" content="Grouvex Studios"> <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"> <meta http-equiv="Content-Security-Policy" content="policy"> <meta http-equiv="Referrer-Policy" content="no-referrer"> <meta name="keywords" content="Grouvex, M√∫sica, Grouvex Studios, Grouvex's Projects"> <meta name="theme-color" content="#hexcode"> <link rel="canonical" href="URL_can√≥nica">
  <!-- Clarity tracking code for https://grouvex.github.io/ -->
  <script>    (function(c,l,a,r,i,t,y){        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window, document, "clarity", "script", "mdkjlz9c01");</script>
<!-- Editable -->
<meta property="og:title" content="Sitio web oficial - Grouvex Studios"> <meta property="og:description" content="Sitio web oficial de ¬©Grouvex Studios"> <meta property="og:image" href="img/GROUVEX.png">
<title>Sitio Web Oficial - Grouvex Studios</title>
<!-- Main Top -->
<mainTop>
<a href="https://grouvex.github.io/"><span style="font-family: Times New Roman; sans-serif; font-size: 30px;color:white">Grouvex Studios</span></a>
<span style="font-family: Times New Roman;color:white;box-shadow: 0 0 10px gold"> <a href="https://grouvex.github.io/"><u style="color: blue"><span style="color: white">Inicio</span></u></a> | <a href="https://grouvex.github.io/artistas"><u style="color: blue"><span style="color: white">Artistas</span></u></a> | <a href="https://grouvex.github.io/equipo"><u style="color: blue"><span style="color: white">Equipo</span></u></a> | <a href="https://grouvex.github.io/comentarios"><u style="color: blue"><span style="color: green">Comentarios (vBeta)</span></u></a> | <a href="https://grouvex.github.io/registrar" style="pointer-events: none"><u style="color: blue"><span style="color: white">Registrar</span></u></a> <span id="menu"></span>
</span>
</mainTop>
</head>
<body>
 <!-- Anuncio -->
 <div id="news"></div>
<main>
 <!-- Publicado por -->
<div class="tarjeta" style="display: flex;align-items: center; border-radius: 8px;  box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin: 10px;  padding: 10px;  height: 45px; width: 250px; padding-top: 10px;padding-bottom: 10px">
<img src="../img/GROUVEX.png" alt="" style="border-radius: 50%; width: 35px;height: 35px;object-fit: cover; margin-right: 10px;"><div>
<h2 style="margin:2px; font-size: 7.5px">Publicado por:</h2><h2 style="margin:2px; padding: 1px;font-size: 9px">Grouvex Studios</h2>
<p style="color: white; font-size: 11px"><span id="ActualizadoDATE"></span></p><a href="mailto:grouvex.studio@grouvex.com" style="color:white"><footer style="color: white; font-size: 7px;padding:2px">grouvex.studio@rouvex.com</footer></a></div></div>
<script>const uTActualizado = 1734710400; actualizarFechas(uTActualizado, "ActualizadoDATE");</script> 
  <!-- T√≠tulo -->
    <style>
        nav {
            margin-bottom: 20px;
            text-align: center;
        }
        nav a {
            margin: 0 15px;
            text-decoration: none;
            color: blue;
            cursor: pointer;
        }
        section {
            display: none;
        }
        section.active {
            display: block;
        }
        .comment-form, .comments-section, .config-section {
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .comments-section p {
            margin: 10px 0;
        }
        .orden-button {
            margin-top: 10px;
        }
        .delete-button {
            margin-left: 10px;
            color: red;
            cursor: pointer;
        }
    </style>
    
 <!--   <div id="auth-container">
        <h1>Autenticaci√≥n de Usuarios en Grouvex Studios</h1>
        <form id="authForm">
            <h2 id="formTitle">Inicio de Sesi√≥n</h2>
            <input type="email" id="authEmail" placeholder="Email" required>
            <input type="password" id="authPassword" placeholder="Password" required>
            <button type="submit" id="authButton">Iniciar Sesi√≥n</button>
            <button type="button" id="toggleButton">¬øNo tienes cuenta? Reg√≠strate</button>
        </form>
        <button id="logoutBtn" style="display: none;">Cerrar Sesi√≥n</button>
        <button id="resetPasswordBtn">¬øOlvidaste tu contrase√±a?</button>
    </div>-->

    <div id="content" style="display: block;"> 
    <nav>
      <a onclick="showSection('newa')">Noticias</a>
      <a onclick="showSection('reportes')">Reportes en la Web</a>
      <a onclick="showSection('deseos')">Deseos para 2024 <span class="status recommended">Recommended</span></a>
      <a onclick="showSection('comentarios')">Comentarios</a>
      <a onclick="showSection('sugerencias')">Sugerencias</a>
    </nav>
    <section id="newa" class="active">
      <div class="comment-form">
        <h2>Noticias</h2>
        <p>Noticias del equipo de Grouvex Studios</p>
        <form>
        <input type="text" id="nombreInputNew" placeholder="Tu nombre..." required><br>
        <input type="text" id="newInput" rows="4" placeholder="Escribe tu reporte aqu√≠..." required><br>
        <button type="submit" onclick="addComment('newa', 'nombreInputNew')">Enviar</button>
        </form>
        <button class="orden-button" onclick="ordenarComentarios('newa')">Ordenar</button>
      </div>
      <div class="comments-section" id="newaComments">
        <h3>Noticias:</h3>
      </div>
    </section>
        
    <section id="reportes">
      <div class="comment-form">
        <h2>Reportes a la p√°gina web</h2>
        <p>Escriba los reportes (problemas) que tiene la web o califica la web</p>
        <form>
        <input type="text" id="nombreInputReporte" placeholder="Tu nombre (opcional)..."><br>
        <input type="text" id="reporteInput" rows="4" placeholder="Escribe tu reporte aqu√≠..." required><br>
        <button type="submit" onclick="addComment('reportes', 'nombreInputReporte')">Enviar</button>
        </form>
        <button class="orden-button" onclick="ordenarComentarios('reportes')">Ordenar</button>
      </div>
      <div class="comments-section" id="reportesComments">
        <h3>Reportes:</h3>
      </div>
    </section>

    <section id="deseos">
      <div class="comment-form">
        <h2>Deseos para 2024 - 2025</h2>
        <p>Pide un deseo aqu√≠. Puede que se haga realidad tu sue√±o.‚õÑ</p>
        <form>
        <input type="text" id="nombreInputDeseo" placeholder="Tu nombre (opcional)..."><br>
        <input type="text" id="deseoInput" rows="4" placeholder="Escribe tu deseo aqu√≠..." required><br>
        <button type="submit" onclick="addComment('deseos', 'nombreInputDeseo')">Enviar</button>
        </form>
        <button class="orden-button" onclick="ordenarComentarios('deseos')">Ordenar</button>
      </div>
      <div class="comments-section" id="deseosComments">
        <h3>Deseos:</h3>
      </div>
    </section>

    <section id="comentarios">
      <div class="comment-form">
        <h2>Comentarios</h2>
        <p>Comenta lo que quieras sobre la web, los artistas o algo en relaci√≥n a Grouvex Studios.</p>
        <form>
        <input type="text" id="nombreInputComentario" placeholder="Tu nombre (opcional)..."><br>
        <input type="text" id="comentarioInput" rows="4" placeholder="Escribe tu comentario aqu√≠..." required><br>
        <button type="submit" onclick="addComment('comentarios', 'nombreInputComentario')">Enviar</button>
        </form>
        <button class="orden-button" onclick="ordenarComentarios('comentarios')">Ordenar</button>
      </div>
      <div class="comments-section" id="comentariosComments">
        <h3>Comentarios:</h3>
      </div>
    </section>

    <section id="sugerencias">
      <div class="comment-form">
        <h2>Sugerencias</h2>
        <p>Haz sugerencias para mejorar la web üòâ.</p>
        <form>
        <input type="text" id="nombreInputSugerencia" placeholder="Tu nombre (opcional)..."><br>
        <input type="text" id="sugerenciaInput" rows="4" placeholder="Escribe tu sugerencia aqu√≠..." required><br>
        <button type="submit" onclick="addComment('sugerencias', 'nombreInputSugerencia')">Enviar</button>
        </form>
        <button class="orden-button" onclick="ordenarComentarios('sugerencias')">Ordenar</button>
      </div>
      <div class="comments-section" id="sugerenciasComments">
        <h3>Sugerencias:</h3>
      </div>
    </section>
</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <script>
        let ordenarAscendente = true;
        const palabrasBloqueadas = ["malaPalabra1", "malaPalabra2", "malaPalabra3"];
        document.addEventListener('DOMContentLoaded', () => {
            cargarComentarios('newa');
            cargarComentarios('reportes');
            cargarComentarios('sugerencias');
            cargarComentarios('comentarios');
            cargarComentarios('deseos');
        });
        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
        }
        function containsBlockedWords(text) {
            return palabrasBloqueadas.some(palabra => text.includes(palabra));
        }
        
        function escapeHTML(str) {
            return str.replace(/[&<>"']/g, function (match) {
                const escapeMap = {
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#39;'
                };
                return escapeMap[match];
            });
        }
        
        function addComment(section, nameInputId) {
            const nameInput = document.getElementById(nameInputId);
            const inputElement = document.getElementById(section.slice(0, -1) + 'Input');
            
            if (!nameInput || !inputElement) {
                console.error("Element not found:", nameInputId, section.slice(0, -1) + 'Input');
                return;
            }
        
            const nameText = escapeHTML(nameInput.value.trim() || "An√≥nimo");
            const commentText = escapeHTML(inputElement.value.trim());
        
            if (containsBlockedWords(commentText) || commentText.includes("http")) {
                alert("El comentario contiene palabras bloqueadas o enlaces.");
                inputElement.value = '';
                return;
            }
        
            if (commentText) {
                const date = new Date().toUTCString();
                const timestamp = new Date().getTime();
                const commentSection = document.getElementById(section + 'Comments');
                const commentPara = document.createElement('p');
                commentPara.innerHTML = `<strong>${date} - ${nameText}:</strong> ${commentText}`;
                commentPara.dataset.timestamp = timestamp;
                commentSection.appendChild(commentPara);
                // Guardar comentario en Firebase
                guardarComentarioEnServidor(section, nameText, commentText, timestamp);
                inputElement.value = '';
                nameInput.value = '';
                ordenarComentarios(section);
            }
        }
        function ordenarComentarios(section) {
            const commentSection = document.getElementById(section + 'Comments');
            const comments = Array.from(commentSection.querySelectorAll('p'));
            comments.sort((a, b) => {
                const aTime = parseInt(a.dataset.timestamp);
                const bTime = parseInt(b.dataset.timestamp);
                return ordenarAscendente ? bTime - aTime : aTime - bTime;
            });
            comments.forEach(comment => commentSection.appendChild(comment));
            ordenarAscendente = !ordenarAscendente;
        }
        firebase.auth().onAuthStateChanged((user) => {
            if (user) {
                const userId = user.uid;
                firebase.database().ref(`roles/admin/${userId}`).once('value').then((snapshot) => {
                    if (snapshot.exists()) {
                        console.log('User is an admin');
                        // Usuario es administrador, habilitar eliminaci√≥n
                    } else {
                        console.log('User is not an admin');
                        // Usuario no es administrador, deshabilitar eliminaci√≥n
                    }
                });
            } else {
                // Usuario no autenticado
            }
        });
        function guardarComentarioEnServidor(section, name, comment, timestamp) {
            const refPath = section === 'newa' ? `new/${section}` : `comments/${section}/`;
            const newCommentRef = database.ref(refPath).push();
            newCommentRef.set({ name: name, comment: comment, timestamp: timestamp });
        }
        function cargarComentarios(section) {
            const refPath = section === 'newa' ? `new/${section}` : `comments/${section}/`;
            const commentSection = document.getElementById(`${section}Comments`);
            database.ref(refPath).once('value', (snapshot) => {
                const comments = snapshot.val();
                if (comments) {
                    for (let id in comments) {
                        const commentPara = document.createElement('p');
                        commentPara.innerHTML = `<strong>${new Date(comments[id].timestamp).toUTCString()} - ${comments[id].name}:</strong> ${comments[id].comment}`;
                        commentPara.dataset.timestamp = comments[id].timestamp;
                        commentSection.appendChild(commentPara);
                    }
                } else {
                    commentSection.innerHTML = '<p>No hay comentarios a√∫n.</p>';
                }
            });
        }
    </script>
<script src="abc.js"></script> 
</main>
 <!-- Footer -->
 <div id="footer"></div>
</body>
            </html>
